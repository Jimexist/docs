<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ROAPI Documentation</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="open-in-gh.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="quickstart.html"><strong aria-hidden="true">3.</strong> Quick start</a></li><li class="chapter-item expanded "><a href="config/index.html"><strong aria-hidden="true">4.</strong> Config</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="config/cli.html"><strong aria-hidden="true">4.1.</strong> Command line argument</a></li><li class="chapter-item expanded "><a href="config/config-file.html"><strong aria-hidden="true">4.2.</strong> YAML config</a></li><li class="chapter-item expanded "><a href="config/dataset-formats/index.html"><strong aria-hidden="true">4.3.</strong> Dataset formats</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="config/dataset-formats/json.html"><strong aria-hidden="true">4.3.1.</strong> JSON</a></li><li class="chapter-item expanded "><a href="config/dataset-formats/parquet.html"><strong aria-hidden="true">4.3.2.</strong> Parquet</a></li><li class="chapter-item expanded "><a href="config/dataset-formats/csv.html"><strong aria-hidden="true">4.3.3.</strong> CSV</a></li><li class="chapter-item expanded "><a href="config/dataset-formats/gsheet.html"><strong aria-hidden="true">4.3.4.</strong> Google spreadsheet</a></li></ol></li><li class="chapter-item expanded "><a href="config/blob-store.html"><strong aria-hidden="true">4.4.</strong> Blob store</a></li></ol></li><li class="chapter-item expanded "><a href="api/index.html"><strong aria-hidden="true">5.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/query/index.html"><strong aria-hidden="true">5.1.</strong> Query frontends</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/query/sql.html"><strong aria-hidden="true">5.1.1.</strong> SQL</a></li><li class="chapter-item expanded "><a href="api/query/rest.html"><strong aria-hidden="true">5.1.2.</strong> REST</a></li><li class="chapter-item expanded "><a href="api/query/graphql.html"><strong aria-hidden="true">5.1.3.</strong> GraphQL</a></li></ol></li><li class="chapter-item expanded "><a href="api/schema.html"><strong aria-hidden="true">5.2.</strong> Schema</a></li><li class="chapter-item expanded "><a href="api/response.html"><strong aria-hidden="true">5.3.</strong> Response serialization</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">ROAPI Documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/roapi/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="roapi-documentation"><a class="header" href="#roapi-documentation">ROAPI Documentation</a></h1>
<p><a href="https://github.com/roapi/roapi">ROAPI</a> automatically spins up read-only APIs
for static datasets without requiring you to write a single line of code. It
builds on top of <a href="https://github.com/apache/arrow">Apache Arrow</a> and
<a href="https://github.com/apache/arrow/tree/master/rust/datafusion">Datafusion</a>. The
core of its design can be boiled down to the following:</p>
<ul>
<li>Query frontends to translate SQL, GraphQL and REST API queries into
Datafusion plans.</li>
<li>Datafusion for query plan execution.</li>
<li>Data layer to load datasets from a variety of sources and formats with
automatic schema inference.</li>
<li>Response encoding layer to serialize intermediate Arrow record batch into
various formats requested by client.</li>
</ul>
<p>See below for a high level diagram:</p>
<img alt="roapi-design-diagram" src="./images/roapi.svg">
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/README.md">Edit this file on GitHub.</a></footer><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="build-from-source"><a class="header" href="#build-from-source">Build from source</a></h2>
<p>You need to install <a href="https://rustup.rs/">Rust toolchain</a> if you haven't done so.</p>
<pre><code class="language-bash">cargo install --git https://github.com/roapi/roapi --branch main --bin roapi-http
</code></pre>
<h2 id="docker"><a class="header" href="#docker">Docker</a></h2>
<p>A prebuilt docker image is also available at <a href="https://github.com/orgs/roapi/packages/container/package/roapi-http">ghcr.io/roapi/roapi-http</a>.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/installation.md">Edit this file on GitHub.</a></footer><h1 id="quick-start"><a class="header" href="#quick-start">Quick start</a></h1>
<p>Spin up APIs for <code>test_data/uk_cities_with_headers.csv</code> and
<code>test_data/spacex-launches.json</code>:</p>
<pre><code class="language-bash">roapi-http \
    --table 'uk_cities:test_data/uk_cities_with_headers.csv' \
    --table 'spacex_launches:test_data/spacex-launches.json'
</code></pre>
<p>Or using prebuilt docker image:</p>
<pre><code>docker run -t --rm -p 8080:8080 ghcr.io/roapi/roapi-http:latest --addr 0.0.0.0:8080 \
    --table 'uk_cities:test_data/uk_cities_with_headers.csv' \
    --table 'spacex_launches:test_data/spacex-launches.json'
</code></pre>
<h2 id="query-api"><a class="header" href="#query-api">Query API</a></h2>
<p>Query tables using SQL, GraphQL or REST:</p>
<pre><code class="language-bash">curl -X POST -d &quot;SELECT city, lat, lng FROM uk_cities LIMIT 2&quot; localhost:8080/api/sql
curl -X POST -d &quot;query { uk_cities(limit: 2) {city, lat, lng} }&quot; localhost:8080/api/graphql
curl &quot;localhost:8080/api/tables/uk_cities?columns=city,lat,lng&amp;limit=2&quot;
</code></pre>
<p>Sample response:</p>
<pre><code class="language-json">[
  {
    &quot;city&quot;: &quot;Elgin, Scotland, the UK&quot;,
    &quot;lat&quot;: 57.653484,
    &quot;lng&quot;: -3.335724
  },
  {
    &quot;city&quot;: &quot;Stoke-on-Trent, Staffordshire, the UK&quot;,
    &quot;lat&quot;: 53.002666,
    &quot;lng&quot;: -2.179404
  }
]
</code></pre>
<p>See <a href="api/query">Query frontends</a> for details on different operators supported
by each frontend.</p>
<h2 id="schema-api"><a class="header" href="#schema-api">Schema API</a></h2>
<p>Get inferred schema for all tables:</p>
<pre><code class="language-bash">curl localhost:8080/api/schema
</code></pre>
<p>Sample response:</p>
<pre><code class="language-json">{
  &quot;uk_cities&quot;: {
    &quot;fields&quot;: [
      {
        &quot;name&quot;: &quot;city&quot;,
        &quot;data_type&quot;: &quot;Utf8&quot;,
        &quot;nullable&quot;: false,
        &quot;dict_id&quot;: 0,
        &quot;dict_is_ordered&quot;: false
      },
      {
        &quot;name&quot;: &quot;lat&quot;,
        &quot;data_type&quot;: &quot;Float64&quot;,
        &quot;nullable&quot;: false,
        &quot;dict_id&quot;: 0,
        &quot;dict_is_ordered&quot;: false
      },
      {
        &quot;name&quot;: &quot;lng&quot;,
        &quot;data_type&quot;: &quot;Float64&quot;,
        &quot;nullable&quot;: false,
        &quot;dict_id&quot;: 0,
        &quot;dict_is_ordered&quot;: false
      }
    ]
  }
}
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/quickstart.md">Edit this file on GitHub.</a></footer><h1 id="config"><a class="header" href="#config">Config</a></h1>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/README.md">Edit this file on GitHub.</a></footer><h1 id="command-line-argument"><a class="header" href="#command-line-argument">Command line argument</a></h1>
<p>You can configure ROAPI to load as many tables as you want by repeating the <code>--table</code> argument.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/cli.md">Edit this file on GitHub.</a></footer><h1 id="yaml-config"><a class="header" href="#yaml-config">YAML config</a></h1>
<p>You can configure multiple table sources using YAML config, which supports more
advanced format specific table options. For example:</p>
<pre><code class="language-yaml">addr: 0.0.0.0:8084
tables:
  - name: &quot;blogs&quot;
    uri: &quot;test_data/blogs.parquet&quot;

  - name: &quot;ubuntu_ami&quot;
    uri: &quot;test_data/ubuntu-ami.json&quot;
    option:
      format: &quot;json&quot;
      pointer: &quot;/aaData&quot;
      array_encoded: true
    schema:
      columns:
        - name: &quot;zone&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;name&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;version&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;arch&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;instance_type&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;release&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;ami_id&quot;
          data_type: &quot;Utf8&quot;
        - name: &quot;aki_id&quot;
          data_type: &quot;Utf8&quot;

  - name: &quot;spacex_launches&quot;
    uri: &quot;https://api.spacexdata.com/v4/launches&quot;
    option:
      format: &quot;json&quot;

  - name: &quot;github_jobs&quot;
    uri: &quot;https://jobs.github.com/positions.json&quot;
</code></pre>
<p>To run serve tables using config file:</p>
<pre><code class="language-bash">roapi-http -c ./roapi.yml
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/config-file.md">Edit this file on GitHub.</a></footer><h1 id="dataset-formats"><a class="header" href="#dataset-formats">Dataset formats</a></h1>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/dataset-formats/README.md">Edit this file on GitHub.</a></footer><h1 id="json"><a class="header" href="#json">JSON</a></h1>
<p>When a table uri ends in <code>.json</code>, ROAPI will try to load it as JSON table if no
<code>format</code> option is specified:</p>
<pre><code>tables:
  - name: &quot;mytable&quot;
    uri: &quot;http://mytable.json&quot;
</code></pre>
<h2 id="filter-by-json-pointer"><a class="header" href="#filter-by-json-pointer">Filter by JSON pointer</a></h2>
<p>Sometimes the JSON array you want to serve might be stored inside a JSON
object. To support this use-case, ROAPI supports loading JSON using a <a href="https://tools.ietf.org/html/rfc6901">JSON
pointer</a>.</p>
<p>Take the following JSON data as an example:</p>
<pre><code class="language-json">{
    &quot;x&quot;: {
        &quot;y&quot;: [{&quot;col1&quot;: &quot;z&quot;}, {&quot;col1&quot;: &quot;zz&quot;}]
    }
}
</code></pre>
<p>In order to only serve <code>[{&quot;col1&quot;: &quot;z&quot;}, {&quot;col1&quot;: &quot;zz&quot;}]</code> through ROAPI, you can
configure the JSON table source as:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;http://mytable.json&quot;
    option:
      format: &quot;json&quot;
      pointer: &quot;/x/y&quot;
</code></pre>
<h2 id="array-encoding"><a class="header" href="#array-encoding">Array encoding</a></h2>
<p>Each row in JSON data can be encoded using array for size reduction. This
convention allows us to avoid repeating column names in every row.</p>
<p>For example:</p>
<pre><code class="language-json">[
    {&quot;col1&quot;: 1, &quot;col2&quot;: &quot;abc&quot;},
    {&quot;col1&quot;: 2, &quot;col2&quot;: &quot;efg&quot;}
]
</code></pre>
<p>Can be stored as:</p>
<pre><code class="language-json">[
    [1, &quot;abc&quot;],
    [2, &quot;efg&quot;]
]
</code></pre>
<p>When loading JSON rows using array encoding, one needs to explicily specify the
schema since there is no column name in the datasource anymore for ROAPI to
perform the schema inference:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;http://mytable.json&quot;
    option:
      format: &quot;json&quot;
      array_encoded: true
    schema:
      columns:
        - name: &quot;col1&quot;
          data_type: &quot;Int64&quot;
        - name: &quot;col2&quot;
          data_type: &quot;Utf8&quot;
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/dataset-formats/json.md">Edit this file on GitHub.</a></footer><h1 id="parquet"><a class="header" href="#parquet">Parquet</a></h1>
<p>When a table uri ends in <code>.parquet</code>, ROAPI will try to load it as Parquet table if no
<code>format</code> option is specified:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;http://mytable.parquet&quot;
</code></pre>
<p>You can partition a Parquet dataset into multiple partitions and load all of them
into a single table by directory path:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;./table_dir&quot;
    option:
      format: &quot;parquet&quot;
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/dataset-formats/parquet.md">Edit this file on GitHub.</a></footer><h1 id="csv"><a class="header" href="#csv">CSV</a></h1>
<p>When a table uri ends in <code>.csv</code>, ROAPI will try to load it as CSV table if no
<code>format</code> option is specified:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;http://mytable.csv&quot;
</code></pre>
<p>You can partition a CSV dataset into multiple partitions and load all of them
into a single table by directory path:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;mytable&quot;
    uri: &quot;./table_dir&quot;
    option:
      format: &quot;csv&quot;
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/dataset-formats/csv.md">Edit this file on GitHub.</a></footer><h1 id="google-spreadsheet"><a class="header" href="#google-spreadsheet">Google spreadsheet</a></h1>
<p>To serve a Google spreadsheet as API, you need to gather the following config values:</p>
<ul>
<li>Google spreadsheet URL</li>
<li>Google spreadsheet sheet title (bottom of the spreadsheet UI)</li>
<li>Service account secret key</li>
</ul>
<p>Here are the steps to configure the service account:</p>
<ol>
<li>Activate the Google Sheets API in the Google API Console.</li>
<li>Create service account: https://console.developers.google.com/apis/api/sheets.googleapis.com/credentials.</li>
<li>Go into service account setting and click <code>ADD KEY</code>. Then select JSON format
and save it somewhere safe.</li>
<li>Go back to Google spreadsheet and share it with the newly created service
account through service account email).</li>
</ol>
<p>ROAPI config to load the google spreadsheet as data source:</p>
<pre><code class="language-yaml">tables:
  - name: &quot;table_name&quot;
    uri: &quot;https://docs.google.com/spreadsheets/d/1-lc4oij04aXzFSRMwVBLjU76s-K0-s6UPc2biOvtuuU#gid=0&quot;
    option:
      format: &quot;google_spreadsheet&quot;
      application_secret_path: &quot;path/to/service_account_key.json&quot;
      sheet_title: &quot;sheet_name_within_google_spreadsheet&quot;
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/dataset-formats/gsheet.md">Edit this file on GitHub.</a></footer><h1 id="blob-store"><a class="header" href="#blob-store">Blob store</a></h1>
<p>ROAPI currently supports the following blob storages:</p>
<ul>
<li>Filesystem</li>
<li>HTTP/HTTPS</li>
<li>S3 (WIP)</li>
</ul>
<h2 id="filesystem"><a class="header" href="#filesystem">Filesystem</a></h2>
<p>Uri without a scheme prefix is treated as filesystem backed data source by
ROAPI. For example, to serve a local parquet file <code>test_data/blogs.parquet</code>, you
can just set the uri to the file path.</p>
<p>Filesystem store supports loading partitioned tables. In other words, you can
split up the table into mulitple files and load all of them into a single table
by setting uri to the directory path.</p>
<h2 id="httphttps"><a class="header" href="#httphttps">HTTP/HTTPS</a></h2>
<p>ROAPI can build tables from datasets served through HTTP protocols. However, one
thing to keep in mind is HTTP store doesn't support partitioned datasets because
there is no native directory support in HTTP.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/config/blob-store.md">Edit this file on GitHub.</a></footer><h1 id="api"><a class="header" href="#api">API</a></h1>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/README.md">Edit this file on GitHub.</a></footer><h1 id="query-frontends"><a class="header" href="#query-frontends">Query frontends</a></h1>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/query/README.md">Edit this file on GitHub.</a></footer><h1 id="sql"><a class="header" href="#sql">SQL</a></h1>
<p>To query tables using a subset of standard SQL, send the query payload through
<code>POST</code> request to <code>/api/sql</code> endpoint. This is the only query interface that
supports table joins.</p>
<p>SQL query frontend is the more flexible and powerful compared to
<a href="api/query/rest.html">REST</a> and <a href="api/query/graphql.html">GraphQL</a>. It is the only query frontend
that supports table joins.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/query/sql.md">Edit this file on GitHub.</a></footer><h1 id="rest"><a class="header" href="#rest">REST</a></h1>
<p>Query tables through REST API by sending <code>GET</code> requests to
<code>/api/tables/{table_name}</code>. Query operators are specified as query params.</p>
<p>REST API currently supports the following query operators:</p>
<ul>
<li>columns</li>
<li>sort</li>
<li>limit</li>
<li>filter</li>
</ul>
<p>To sort column <code>col1</code> in ascending order and <code>col2</code> in descending order, set
query param to: <code>sort=col1,-col2</code>.</p>
<p>To find all rows with <code>col1</code> equal to string <code>'foo'</code>, set query param to:
<code>filter[col1]='foo'</code>. You can also do basic comparisons with filters, for
example predicate <code>0 &lt;= col2 &lt; 5</code> can be expressed as
<code>filter[col2]gte=0&amp;filter[col2]lt=5</code>.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/query/rest.md">Edit this file on GitHub.</a></footer><h1 id="graphql"><a class="header" href="#graphql">GraphQL</a></h1>
<p>To query tables through GraphQL, send the query through <code>POST</code> request to
<code>/api/graphql</code> endpoint.</p>
<p>GraphQL query interface supports the same set of operators supported by REST
API. Here how you can apply various operators to your query:</p>
<pre><code class="language-graphql">{
    table_name(
        filter: {
            col1: false
            col2: { gteq: 4, lt: 1000 }
        }
        sort: [
            { field: &quot;col2&quot;, order: &quot;desc&quot; }
            { field: &quot;col3&quot; }
        ]
        limit: 100
    ) {
        col1
        col2
        col3
    }
}
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/query/graphql.md">Edit this file on GitHub.</a></footer><h1 id="schema"><a class="header" href="#schema">Schema</a></h1>
<p>TODO</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/schema.md">Edit this file on GitHub.</a></footer><h1 id="response-serialization"><a class="header" href="#response-serialization">Response serialization</a></h1>
<p>By default, ROAPI encodes responses in JSON format, but you can request
different encodings by specifying the <code>ACCEPT</code> header:</p>
<pre><code class="language-bash">curl -X POST \
    -H 'ACCEPT: application/vnd.apache.arrow.stream' \
    -d &quot;SELECT launch_library_id FROM spacex_launches WHERE launch_library_id IS NOT NULL&quot; \
    localhost:8080/api/sql
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/roapi/docs/edit/main/src/api/response.md">Edit this file on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
